---
import Layout from "../layouts/Layout.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";
import FavoritesListWrapper from "../components/favorites/FavoritesListWrapper.astro";

// Check if user is authenticated via middleware
const user = Astro.locals.user;

if (!user) {
  return Astro.redirect('/login');
}
---

<Layout title="Ulubione przekąski | SnAIck">
  <div class="relative w-full mx-auto min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-blue-950">
    <Navigation />

    <main class="pt-32 pb-24 px-4 sm:px-6 lg:px-8">
      <div class="max-w-6xl mx-auto">
        <!-- Page Header -->
        <div class="text-center mb-12">
          <h1
            class="text-3xl sm:text-4xl font-bold mb-6 bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 text-transparent bg-clip-text"
          >
            Twoje ulubione przekąski
          </h1>
          <p class="text-lg text-blue-100/80 max-w-2xl mx-auto">
            Tutaj znajdziesz wszystkie przekąski, które zapisałeś jako ulubione. Możesz przeglądać szczegóły i zarządzać swoją kolekcją.
          </p>
        </div>

        <!-- Favorites List -->
        <FavoritesListWrapper userId={user.id} />
      </div>
    </main>

    <Footer className="absolute bottom-0 w-full" />
  </div>
</Layout> 